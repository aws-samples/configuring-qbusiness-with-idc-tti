{% extends "template.html" %}

{% block content %}
<h2>Amazon Q Business API Authorization Demo</h2>

{% if current_user.is_authenticated %}
<div>
    <p>Welcome back, <span>{{ current_user.name }}</span>!</p>
    <p>You've successfully authenticated with your Identity Provider and returned to this application.</p>
    <p>Visit the <a href="{{ url_for('chat') }}">My Chat</a> page to chat with Q Business AI assistant.</p>
    <p>Visit the <a href="{{ url_for('conversations') }}">My Conversations</a> page to view active conversations retrieved via the Q Business API.</p>
    <p>Visit the <a href="{{ url_for('profile') }}">My Profile</a> page to view your information from identity provider's ID token.</p>
</div>
{% else %}


<div>
    <p>Hello!</p>
    <p>This sample web application demonstrates how the identity-aware 
        Amazon Q Business API can be used to create custom web experiences.</p>
    <p>When you click the login button below, you'll be redirected to your 
        Identity Provider's login page. After authentication, you'll return to 
        this application. Your authorization code will then securely generate 
        credentials for accessing the identity-aware Q Business API.
    </p>
</div>

<form method="get" action="login">
    <button id="login-button" class="btn btn-primary" type="submit">Login</button>
</form>

{% endif %}
{% endblock content %}
